<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Direct NHI Communication | UAP/UFO Disclosure Database</title>
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json?v=20260103">
    <meta name="theme-color" content="#58a6ff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Disclosure DB">
    
    <link rel="stylesheet" href="i18n/language-switcher.css">
    <script src="i18n/translations.js"></script>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Urgent public message to Non-Human Intelligence requesting direct, transparent communication. Comprehensive UAP/UFO disclosure timeline, evidence, and historical Earth messages to extraterrestrial civilizations.">
    <meta name="keywords" content="NHI, Non-Human Intelligence, UAP, UFO, alien contact, extraterrestrial communication, disclosure, FOIA, Arecibo message, SETI, interstellar message, alien message, contact NHI, UAP disclosure, UFO evidence, Â§ñÊòü‰∫∫, ‰∏çÊòéÈ£ûË°åÁâ©, contacto extraterrestre, divulgaci√≥n OVNI, ÿßÿ™ÿµÿßŸÑ ÿÆÿßÿ±ÿ¨ ŸÉŸàŸÉÿ® ÿßŸÑÿ£ÿ±ÿ∂, ŸÉÿ¥ŸÅ UFO, contato extraterrestre, divulga√ß√£o OVNI">
    <meta name="author" content="UAP Disclosure Party">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://unclebulgaria9001.github.io/disclosureparty/viewer.html">
    
    <!-- Multilingual hreflang tags -->
    <link rel="alternate" hreflang="en" href="https://unclebulgaria9001.github.io/disclosureparty/viewer.html">
    <link rel="alternate" hreflang="zh" href="https://unclebulgaria9001.github.io/disclosureparty/viewer.html">
    <link rel="alternate" hreflang="es" href="https://unclebulgaria9001.github.io/disclosureparty/viewer.html">
    <link rel="alternate" hreflang="ar" href="https://unclebulgaria9001.github.io/disclosureparty/viewer.html">
    <link rel="alternate" hreflang="pt" href="https://unclebulgaria9001.github.io/disclosureparty/viewer.html">
    <link rel="alternate" hreflang="x-default" href="https://unclebulgaria9001.github.io/disclosureparty/viewer.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://unclebulgaria9001.github.io/disclosureparty/viewer.html">
    <meta property="og:title" content="Request Direct NHI Communication | UAP/UFO Disclosure Database">
    <meta property="og:description" content="Urgent message to Non-Human Intelligence requesting direct contact. Comprehensive UAP/UFO disclosure timeline and evidence. Join the disclosure party.">
    <meta property="og:site_name" content="UAP Disclosure Database">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://unclebulgaria9001.github.io/disclosureparty/viewer.html">
    <meta property="twitter:title" content="Request Direct NHI Communication | UAP/UFO Disclosure">
    <meta property="twitter:description" content="Urgent message to Non-Human Intelligence. Comprehensive UAP/UFO disclosure timeline and evidence. #UFOTwitter #Disclosure #NHI">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "UAP/UFO/NHI Disclosure Database",
      "url": "https://unclebulgaria9001.github.io/disclosureparty/",
      "description": "Comprehensive database of UAP/UFO disclosure events, NHI contact message, and historical Earth messages to extraterrestrial intelligence",
      "keywords": "UAP, UFO, NHI, Non-Human Intelligence, alien contact, disclosure, FOIA, extraterrestrial communication",
      "inLanguage": "en",
      "author": {
        "@type": "Organization",
        "name": "UAP Disclosure Party"
      }
    }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Share Tech Mono', 'Courier New', monospace;
            background: #0d1117;
            color: #58a6ff;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }
        
        /* Header */
        header {
            background: #161b22;
            border: 2px solid #30363d;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        
        h1 {
            color: #c9d1d9;
            font-size: 2em;
            text-align: center;
            margin-bottom: 10px;
            letter-spacing: 1px;
            font-weight: 600;
        }
        
        .subtitle {
            text-align: center;
            color: #8b949e;
            font-size: 0.9em;
            margin-bottom: 15px;
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .tab {
            padding: 10px 20px;
            background: #21262d;
            border: 1px solid #30363d;
            color: #8b949e;
            cursor: pointer;
            transition: all 0.2s ease;
            text-transform: uppercase;
            font-size: 0.85em;
            position: relative;
            border-radius: 6px;
        }
        
        .tab:hover {
            background: #30363d;
            border-color: #58a6ff;
            color: #58a6ff;
        }
        
        .tab.active {
            background: #1f6feb;
            border-color: #1f6feb;
            color: #ffffff;
        }
        
        
        /* Content Display */
        .display {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 6px;
            padding: 24px;
            min-height: 500px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        
        /* Controls */
        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .search-box {
            flex: 1;
            min-width: 300px;
            padding: 8px 12px;
            background: #0d1117;
            border: 1px solid #30363d;
            color: #c9d1d9;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.9em;
            border-radius: 6px;
        }
        
        .search-box:focus {
            outline: none;
            border-color: #58a6ff;
            box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.1);
        }
        
        .search-box::placeholder {
            color: #6e7681;
        }
        
        .filter-btn {
            padding: 6px 12px;
            background: #21262d;
            border: 1px solid #30363d;
            color: #8b949e;
            cursor: pointer;
            font-family: 'Share Tech Mono', monospace;
            transition: all 0.2s ease;
            border-radius: 6px;
            font-size: 0.85em;
        }
        
        .filter-btn:hover {
            background: #30363d;
            border-color: #58a6ff;
            color: #58a6ff;
        }
        
        .filter-btn.active {
            background: #1f6feb;
            border-color: #1f6feb;
            color: #ffffff;
        }
        
        /* Content Styling */
        .content {
            color: #c9d1d9;
            white-space: pre-wrap;
            font-size: 0.95em;
            line-height: 1.6;
        }
        
        .content h1, .content h2, .content h3 {
            color: #c9d1d9;
            margin: 20px 0 10px 0;
            border-bottom: 1px solid #30363d;
            padding-bottom: 8px;
            font-weight: 600;
        }
        
        .content a {
            color: #58a6ff;
            text-decoration: none;
        }
        
        .content a:hover {
            text-decoration: underline;
        }
        
        /* Timeline Entry */
        .timeline-entry {
            margin-bottom: 24px;
            padding: 16px;
            background: #161b22;
            border-left: 3px solid #1f6feb;
            border-radius: 6px;
            position: relative;
        }
        
        .timeline-entry:hover {
            background: #1c2128;
            border-left-color: #58a6ff;
        }
        
        .entry-date {
            color: #58a6ff;
            font-weight: 600;
            font-size: 1em;
            margin-bottom: 8px;
        }
        
        .entry-title {
            color: #c9d1d9;
            margin-bottom: 10px;
            font-weight: 500;
        }
        
        .entry-content {
            color: #8b949e;
            margin-bottom: 12px;
            line-height: 1.6;
        }
        
        .entry-links {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .entry-links a {
            color: #58a6ff;
            font-size: 0.85em;
            word-break: break-all;
            text-decoration: none;
        }
        
        .entry-links a:hover {
            text-decoration: underline;
        }
        
        .entry-images {
            margin: 15px 0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .entry-images img {
            max-width: 100%;
            height: auto;
            border: 1px solid #30363d;
            border-radius: 6px;
            max-height: 400px;
            object-fit: contain;
        }
        
        .chronology-intro {
            margin-bottom: 32px;
            padding: 20px;
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 6px;
        }
        
        .chronology-intro h1 {
            color: #c9d1d9;
            font-size: 1.5em;
            margin-bottom: 16px;
            border-bottom: 1px solid #30363d;
            padding-bottom: 8px;
        }
        
        .chronology-intro h2 {
            color: #c9d1d9;
            font-size: 1.2em;
            margin-top: 20px;
            margin-bottom: 12px;
        }
        
        .chronology-intro h3 {
            color: #8b949e;
            font-size: 1em;
            margin-top: 16px;
            margin-bottom: 8px;
        }
        
        .progress-banner {
            background: linear-gradient(135deg, #0d1117 0%, #161b22 100%);
            border-bottom: 2px solid #30363d;
            padding: 20px;
            margin-bottom: 0;
        }
        
        .progress-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .progress-title {
            text-align: center;
            color: #58a6ff;
            font-size: 1.2em;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .phases-wrapper {
            display: flex;
            gap: 30px;
            justify-content: center;
            align-items: stretch;
            flex-wrap: wrap;
        }
        
        .phase-box {
            flex: 1;
            min-width: 300px;
            max-width: 500px;
            background: #161b22;
            border: 2px solid #30363d;
            border-radius: 8px;
            padding: 20px;
        }
        
        .phase-box.phase-1 {
            border-color: #1f6feb;
        }
        
        .phase-box.phase-2 {
            border-color: #f85149;
        }
        
        .phase-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .phase-icon {
            font-size: 2em;
        }
        
        .phase-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #c9d1d9;
        }
        
        .phase-subtitle {
            font-size: 0.9em;
            color: #8b949e;
            margin-top: 3px;
        }
        
        .progress-bar-container {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 6px;
            height: 30px;
            overflow: hidden;
            margin: 15px 0;
            position: relative;
        }
        
        .progress-bar {
            height: 100%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.85em;
            font-weight: 600;
        }
        
        .progress-bar.phase-1-bar {
            background: linear-gradient(90deg, #1f6feb 0%, #58a6ff 100%);
        }
        
        .progress-bar.phase-2-bar {
            background: linear-gradient(90deg, #f85149 0%, #ff7b72 100%);
        }
        
        .phase-segments {
            display: flex;
            gap: 5px;
            margin: 10px 0;
        }
        
        .segment {
            flex: 1;
            height: 8px;
            background: #21262d;
            border-radius: 4px;
            border: 1px solid #30363d;
        }
        
        .segment.filled {
            background: #1f6feb;
            border-color: #58a6ff;
        }
        
        .phase-days {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
        }
        
        .day-dot {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #21262d;
            border: 2px solid #30363d;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7em;
            color: #8b949e;
        }
        
        .day-dot.filled {
            background: #f85149;
            border-color: #ff7b72;
            color: white;
        }
        
        .phase-dates {
            text-align: center;
            margin: 10px 0;
            padding: 10px;
            background: #0d1117;
            border-radius: 6px;
            border: 1px solid #30363d;
        }
        
        .date-range {
            color: #58a6ff;
            font-weight: 600;
            font-size: 0.95em;
        }
        
        .date-label {
            color: #8b949e;
            font-size: 0.85em;
            margin-top: 5px;
        }
        
        .phase-info {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #30363d;
            font-size: 0.85em;
        }
        
        .info-item {
            color: #8b949e;
        }
        
        .info-value {
            color: #c9d1d9;
            font-weight: 600;
        }
        
        @media (max-width: 768px) {
            .phases-wrapper {
                flex-direction: column;
            }
            
            .phase-box {
                max-width: 100%;
            }
        }
        
        .chronology-intro a {
            color: #58a6ff;
            text-decoration: none;
        }
        
        .chronology-intro a:hover {
            text-decoration: underline;
        }
        
        
        .tag {
            display: inline-block;
            padding: 3px 10px;
            margin: 4px 4px 4px 0;
            background: #1f6feb;
            border: 1px solid #1f6feb;
            border-radius: 12px;
            font-size: 0.75em;
            color: #ffffff;
        }
        
        /* Loading */
        .loading {
            text-align: center;
            padding: 40px;
            color: #8b949e;
            font-size: 1.1em;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Stats */
        .stats {
            text-align: center;
            padding: 12px;
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 6px;
            margin-bottom: 20px;
            color: #8b949e;
            font-size: 0.9em;
        }
        
        /* Footer */
        footer {
            margin-top: 48px;
            padding: 24px;
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 6px;
            text-align: center;
            color: #8b949e;
        }
        
        footer a {
            color: #58a6ff;
            text-decoration: none;
        }
        
        footer a:hover {
            text-decoration: underline;
        }
        
        .hidden {
            display: none;
        }
        
        .toggle-countdown {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #21262d;
            border: 1px solid #30363d;
            color: #8b949e;
            padding: 8px 12px;
            cursor: pointer;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.75em;
            border-radius: 6px;
            transition: all 0.2s ease;
        }
        
        .toggle-countdown:hover {
            background: #30363d;
            border-color: #58a6ff;
            color: #58a6ff;
        }
        
        .progress-banner.collapsed {
            max-height: 60px;
            overflow: hidden;
        }
        
        .progress-banner.collapsed .phases-wrapper {
            display: none;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .tabs {
                flex-direction: column;
                gap: 5px;
            }
            
            .tab {
                width: 100%;
                padding: 12px;
                font-size: 0.8em;
            }
            
            h1 {
                font-size: 1.3em;
            }
            
            header {
                padding: 16px;
            }
            
            .display {
                padding: 16px;
            }
            
            .search-box {
                min-width: 100%;
            }
            
            .controls {
                flex-direction: column;
                gap: 10px;
            }
            
            .filter-btn {
                width: 100%;
            }
            
            .progress-banner {
                padding: 10px;
            }
            
            .phases-wrapper {
                flex-direction: column;
            }
            
            .phase-box {
                width: 100%;
            }
            
            .toggle-countdown {
                position: static;
                margin: 10px auto;
                display: block;
                width: fit-content;
            }
        }
    </style>
</head>
<body>
    <div class="progress-banner" id="progressBanner">
        <div class="progress-container">
            <button class="toggle-countdown" onclick="toggleCountdown()" data-i18n="hideCountdown">HIDE COUNTDOWN</button>
            <div class="progress-title" data-i18n="countdownTitle">üì¢ NHI CONTACT REQUEST TIMELINE</div>
            <div class="phases-wrapper">
                <!-- Phase 1: Distribution -->
                <div class="phase-box phase-1">
                    <div class="phase-header">
                        <div class="phase-icon">üìÜ</div>
                        <div>
                            <div class="phase-title" data-i18n="phase1Title">Phase 1: Distribution</div>
                            <div class="phase-subtitle" data-i18n="phase1Subtitle">Spread the Message</div>
                        </div>
                    </div>
                    
                    <div class="progress-bar-container">
                        <div class="progress-bar phase-1-bar" id="phase1Bar" style="width: 0%;">
                            <span id="phase1Progress">0%</span>
                        </div>
                    </div>
                    
                    <div class="phase-segments">
                        <div class="segment" id="month1"></div>
                        <div class="segment" id="month2"></div>
                        <div class="segment" id="month3"></div>
                    </div>
                    
                    <div class="phase-dates">
                        <div class="date-range" id="phase1Dates">Jan 1 ‚Üí Apr 1, 2026</div>
                        <div class="date-label">‚âà3 months | 91 days | 13 weeks</div>
                    </div>
                    
                    <div class="phase-info">
                        <div class="info-item"><span data-i18n="daysElapsed">Days Elapsed</span>: <span class="info-value" id="phase1Elapsed">0</span></div>
                        <div class="info-item"><span data-i18n="daysRemaining">Days Remaining</span>: <span class="info-value" id="phase1Remaining">91</span></div>
                    </div>
                </div>
                
                <!-- Phase 2: Countdown -->
                <div class="phase-box phase-2">
                    <div class="phase-header">
                        <div class="phase-icon">‚è≥</div>
                        <div>
                            <div class="phase-title" data-i18n="phase2Title">Phase 2: Countdown</div>
                            <div class="phase-subtitle" data-i18n="phase2Subtitle">Final Week</div>
                        </div>
                    </div>
                    
                    <div class="progress-bar-container">
                        <div class="progress-bar phase-2-bar" id="phase2Bar" style="width: 0%;">
                            <span id="phase2Progress">Pending</span>
                        </div>
                    </div>
                    
                    <div class="phase-days">
                        <div class="day-dot" id="day1">1</div>
                        <div class="day-dot" id="day2">2</div>
                        <div class="day-dot" id="day3">3</div>
                        <div class="day-dot" id="day4">4</div>
                        <div class="day-dot" id="day5">5</div>
                        <div class="day-dot" id="day6">6</div>
                        <div class="day-dot" id="day7">7</div>
                    </div>
                    
                    <div class="phase-dates">
                        <div class="date-range" id="phase2Dates">Apr 2 ‚Üí Apr 8, 2026</div>
                        <div class="date-label">Exactly 1 week | 7 days | 168 hours</div>
                    </div>
                    
                    <div class="phase-info">
                        <div class="info-item"><span data-i18n="status">Status</span>: <span class="info-value" id="phase2Status">Not Started</span></div>
                        <div class="info-item"><span data-i18n="daysLeft">Days Left</span>: <span class="info-value" id="phase2Remaining">7</span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="container">
        <header>
            <h1 data-i18n="siteTitle">UAP/UFO/NHI DISCLOSURE DATABASE</h1>
            <div class="subtitle" data-i18n="subtitle">Comprehensive Timeline & Documentation</div>
            <button id="installBtn" class="filter-btn" onclick="installApp()" style="display: none; margin: 10px auto;" data-i18n="installApp">üì± Install App</button>
        </header>
        
        <div id="languageSwitcherContainer"></div>
        
        <div class="tabs">
            <div class="tab active" data-doc="index" data-i18n="index">INDEX</div>
            <div class="tab" data-doc="chronology" data-i18n="chronology">CHRONOLOGY</div>
            <div class="tab" data-doc="contact" data-i18n="requestContact">REQUEST NHI CONTACT</div>
            <div class="tab" data-doc="outbound" data-i18n="outbound">OUTBOUND</div>
            <div class="tab" data-doc="inbound" data-i18n="inbound">INBOUND</div>
            <div class="tab" data-doc="arecibo" data-i18n="arecibo">ARECIBO 1974</div>
            <div class="tab" onclick="window.location.href='timeline.html'" data-i18n="timelineViz">TIMELINE VIZ</div>
        </div>
        
        <div id="controlsContainer"></div>
        
        <div class="display">
            <div class="content" id="content">
                <div class="loading">INITIALIZING TERMINAL...</div>
            </div>
        </div>
        
        <footer>
            <div><span data-i18n="officialRepo">OFFICIAL REPOSITORY</span>: <a href="https://github.com/unclebulgaria9001/disclosureparty" target="_blank">GITHUB.COM/UNCLEBULGARIA9001/DISCLOSUREPARTY</a></div>
            <div style="margin-top: 10px;"><span data-i18n="contact">CONTACT</span>: <a href="mailto:uncle.bulgaria9001@gmail.com">UNCLE.BULGARIA9001@GMAIL.COM</a></div>
            <div style="margin-top: 15px; color: #00ff00;" data-i18n="truthMessage">WE ARE NOT ALONE. THE TRUTH BELONGS TO HUMANITY.</div>
        </footer>
    </div>
    
    <script>
        let currentDoc = 'index';
        let allEntries = [];
        let filteredEntries = [];
        let chronologyIntro = '';
        
        const docs = {
            chronology: 'dist/chronology.md',
            contact: 'dist/contact-nhi.md',
            arecibo: 'dist/arecibo-message-1974.txt'
        };
        
        // Tab switching
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                currentDoc = tab.dataset.doc;
                loadDocument();
            });
        });
        
        async function loadDocument() {
            const content = document.getElementById('content');
            const controlsContainer = document.getElementById('controlsContainer');
            
            if (currentDoc === 'index') {
                showIndex();
                controlsContainer.innerHTML = '';
                return;
            }
            
            if (currentDoc === 'outbound') {
                showOutbound();
                controlsContainer.innerHTML = '';
                return;
            }
            
            if (currentDoc === 'inbound') {
                showInbound();
                controlsContainer.innerHTML = '';
                return;
            }
            
            content.innerHTML = '<div class="loading">LOADING DATA...</div>';
            
            try {
                const response = await fetch(docs[currentDoc]);
                const text = await response.text();
                
                if (currentDoc === 'chronology') {
                    parseChronology(text);
                    showChronologyControls();
                } else {
                    content.innerHTML = `<pre>${escapeHtml(text)}</pre>`;
                    controlsContainer.innerHTML = '';
                }
            } catch (error) {
                content.innerHTML = '<div class="loading" style="color: #ff0000;">ERROR: UNABLE TO LOAD DATA</div>';
            }
        }
        
        function showIndex() {
            const content = document.getElementById('content');
            content.innerHTML = `
                <h1>DOCUMENT INDEX</h1>
                <br>
                <div class="timeline-entry">
                    <div class="entry-date">REQUEST DIRECT NHI COMMUNICATION</div>
                    <div class="entry-title">VERSION 2.0 ‚Ä¢ 2026-01-01</div>
                    <div class="entry-content">
                    Urgent public message to Non-Human Intelligence requesting direct, transparent 
                    communication. Includes government secrecy evidence, historical context, and 
                    communication protocols. Available in 15+ languages with binary and Morse code 
                    encodings.
                    </div>
                    <div class="entry-links">
                        <a href="#" onclick="switchTab('contact'); return false;">VIEW MESSAGE</a>
                        <a href="dist/contact-nhi.txt" target="_blank">DOWNLOAD RAW TXT</a>
                        <a href="dist/contact-nhi.md" target="_blank">DOWNLOAD MARKDOWN</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">UAP/UFO/NHI CHRONOLOGY</div>
                    <div class="entry-title">LIVING DOCUMENT ‚Ä¢ UPDATED REGULARLY</div>
                    <div class="entry-content">
                    Comprehensive timeline of UAP/UFO disclosure events, legislation, FOIA releases, 
                    whistleblower testimonies, and notable incidents. Covers decades of documented 
                    evidence and official disclosures.
                    </div>
                    <div class="entry-links">
                        <a href="#" onclick="switchTab('chronology'); return false;">VIEW TIMELINE</a>
                        <a href="dist/chronology.md" target="_blank">DOWNLOAD MARKDOWN</a>
                        <a href="https://public.amplenote.com/bhsdRVwHti333KHj9yzBg5zi" target="_blank">AMPLENOTE VERSION</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">ARECIBO MESSAGE</div>
                    <div class="entry-title">HISTORICAL ‚Ä¢ 1974-11-16</div>
                    <div class="entry-content">
                    The first deliberate interstellar radio message sent by humanity. Includes full 
                    binary representation, decoded content, and information about potential responses 
                    (Chilbolton formations, Crabwood message).
                    </div>
                    <div class="entry-links">
                        <a href="#" onclick="switchTab('arecibo'); return false;">VIEW MESSAGE</a>
                        <a href="dist/arecibo-message-1974.txt" target="_blank">DOWNLOAD TXT</a>
                    </div>
                </div>
                
                <br>
                <h2>OUTBOUND COMMUNICATIONS</h2>
                <p style="color: #8b949e; margin-bottom: 20px;">Messages sent from Earth to potential extraterrestrial intelligence</p>
                <br>
                <div class="timeline-entry">
                    <div class="entry-date">PIONEER PLAQUES</div>
                    <div class="entry-title">1972-1973 ‚Ä¢ FIRST PHYSICAL MESSAGES</div>
                    <div class="entry-content">
                    Gold-anodized aluminum plaques aboard Pioneer 10 and 11 spacecraft. Show human figures, 
                    Earth's location via pulsar map, and solar system diagram. First physical messages from 
                    humanity intended for potential extraterrestrial discovery.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/Pioneer_plaque" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.nasa.gov/mission_pages/pioneer/index.html" target="_blank">NASA</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">VOYAGER GOLDEN RECORDS</div>
                    <div class="entry-title">1977 ‚Ä¢ COMPREHENSIVE EARTH ARCHIVE</div>
                    <div class="entry-content">
                    12-inch gold-plated phonograph records aboard Voyager 1 and 2. Contains 116 images, 
                    greetings in 55 languages, 90 minutes of music from various cultures, and natural sounds. 
                    Expected to last over 1 billion years in space.
                    </div>
                    <div class="entry-links">
                        <a href="https://voyager.jpl.nasa.gov/golden-record/" target="_blank">JPL GOLDEN RECORD</a>
                        <a href="https://en.wikipedia.org/wiki/Voyager_Golden_Record" target="_blank">WIKIPEDIA</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">COSMIC CALL</div>
                    <div class="entry-title">1999 & 2003 ‚Ä¢ MATHEMATICAL LANGUAGE</div>
                    <div class="entry-content">
                    Radio messages transmitted from Evpatoria Planetary Radar toward nearby stars. Used 
                    sophisticated "Lexicon" mathematical language. Included scientific data, images, and 
                    musical compositions.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/Cosmic_Call" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.seti.org/cosmic-call" target="_blank">SETI</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">TEEN AGE MESSAGE</div>
                    <div class="entry-title">2001 ‚Ä¢ YOUTH PERSPECTIVE</div>
                    <div class="entry-content">
                    First interstellar message composed by teenagers. Transmitted to six sun-like stars 
                    45-70 light years away. Included Theremin concert, bilingual messages, and teen-created 
                    images and text.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/Teen_Age_Message" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.seti.org/teen-age-message" target="_blank">SETI</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">HELLO FROM EARTH</div>
                    <div class="entry-title">2008 ‚Ä¢ CROWDSOURCED MESSAGE</div>
                    <div class="entry-content">
                    First crowdsourced interstellar message via social media (Bebo). 501 messages selected 
                    from 25,880 submissions from 195 countries. Transmitted to Gliese 581c exoplanet in 
                    habitable zone, 20.4 light years away.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/A_Message_From_Earth" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.space.com/5893-message-earth-beamed-alien-planet.html" target="_blank">SPACE.COM</a>
                    </div>
                </div>
                
                <br>
                <h2>INBOUND COMMUNICATIONS</h2>
                <p style="color: #8b949e; margin-bottom: 20px;">Potential responses from Non-Human Intelligence</p>
                <br>
                <div class="timeline-entry">
                    <div class="entry-date">CHILBOLTON FORMATIONS</div>
                    <div class="entry-title">2001-08-14 & 2001-08-19 ‚Ä¢ POTENTIAL ARECIBO REPLY</div>
                    <div class="entry-content">
                    Two crop formations appeared in Hampshire, UK that appeared to respond to the 1974 Arecibo message. 
                    The "Face" formation (August 14) showed a humanoid face. The "Arecibo Reply" (August 19-20) 
                    mirrored the structure of our 1974 message but with different data: silicon-based DNA, different 
                    population figures, and a different solar system diagram. Both formations appeared near the 
                    Chilbolton radio telescope.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/Chilbolton_radio_telescope#Chilbolton_crop_circle" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.cropcircleconnector.com/2001/chilbolton2001a.html" target="_blank">CROP CIRCLE CONNECTOR</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">CRABWOOD FORMATION</div>
                    <div class="entry-title">2002-08-15 ‚Ä¢ BINARY MESSAGE</div>
                    <div class="entry-content">
                    Elaborate crop formation near Winchester, UK featuring an alien face and a disc containing a 
                    binary-encoded message in ASCII. The decoded message read: "Beware the bearers of false gifts 
                    and their broken promises. Much pain but still time. There is good out there. We oppose 
                    deception. Conduit closing." The formation appeared exactly one year after the Chilbolton 
                    formations.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/Crabwood_crop_circle" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.cropcircleconnector.com/2002/crabwood/crabwood2002a.html" target="_blank">CROP CIRCLE CONNECTOR</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">WOW! SIGNAL</div>
                    <div class="entry-title">1977-08-15 ‚Ä¢ POTENTIAL SETI DETECTION</div>
                    <div class="entry-content">
                    Strong narrowband radio signal detected by Ohio State University's Big Ear radio telescope. 
                    The signal lasted 72 seconds and was so strong that astronomer Jerry R. Ehman wrote "Wow!" 
                    on the printout. The signal came from the direction of Sagittarius and has never been detected 
                    again despite numerous follow-up searches. Origin remains unexplained.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/Wow!_signal" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.seti.org/wow-signal" target="_blank">SETI</a>
                    </div>
                </div>
                
                <br>
                <h2>SHARE THIS MESSAGE</h2>
                <br>
                <div class="timeline-entry">
                    <div class="entry-content">
                    Help make this message visible to NHI and the public. Share on social media, forums, and with disclosure advocates.
                    </div>
                    <div class="entry-links">
                        <a href="https://twitter.com/intent/tweet?text=Urgent%20Message%20to%20Non-Human%20Intelligence%3A%20Request%20Direct%20Communication&url=https%3A%2F%2Funclebulgaria9001.github.io%2Fdisclosureparty%2Fviewer.html&hashtags=UFOTwitter,Disclosure,NHI,UAP" target="_blank">SHARE ON X/TWITTER</a>
                        <a href="https://www.reddit.com/submit?url=https%3A%2F%2Funclebulgaria9001.github.io%2Fdisclosureparty%2Fviewer.html&title=Urgent%20Message%20to%20Non-Human%20Intelligence%3A%20Request%20Direct%20Communication" target="_blank">SHARE ON REDDIT</a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Funclebulgaria9001.github.io%2Fdisclosureparty%2Fviewer.html" target="_blank">SHARE ON FACEBOOK</a>
                        <a href="mailto:?subject=Urgent%20Message%20to%20Non-Human%20Intelligence&body=Check%20out%20this%20message%20requesting%20direct%20NHI%20communication%3A%20https%3A%2F%2Funclebulgaria9001.github.io%2Fdisclosureparty%2Fviewer.html" target="_blank">SHARE VIA EMAIL</a>
                    </div>
                </div>
                
                <br>
                <h2>VISUALIZATIONS</h2>
                <br>
                <div class="timeline-entry">
                    <div class="entry-date">INTERACTIVE TIMELINE</div>
                    <div class="entry-title">D3.JS VISUALIZATION</div>
                    <div class="entry-content">
                    Interactive dual-track timeline showing Earth's outbound messages and potential NHI inbound 
                    communications. Zoom, pan, and explore the chronology of interstellar communication attempts.
                    </div>
                    <div class="entry-links">
                        <a href="timeline.html">VIEW TIMELINE VISUALIZATION</a>
                    </div>
                </div>
                
                <br>
                <h2>EXTERNAL RESOURCES</h2>
                <br>
                <div class="entry-links">
                    <a href="https://github.com/unclebulgaria9001/disclosureparty" target="_blank">GITHUB REPOSITORY</a>
                    <a href="https://unclebulgaria9001.github.io/disclosureparty/" target="_blank">PROJECT WEBSITE</a>
                    <a href="https://public.amplenote.com/bhsdRVwHti333KHj9yzBg5zi" target="_blank">AMPLENOTE CHRONOLOGY</a>
                </div>
            `;
        }
        
        function showOutbound() {
            const content = document.getElementById('content');
            content.innerHTML = `
                <h1>OUTBOUND COMMUNICATIONS</h1>
                <p style="color: #8b949e; margin-bottom: 30px;">Messages sent from Earth to potential extraterrestrial intelligence</p>
                
                <div class="timeline-entry">
                    <div class="entry-date">PIONEER PLAQUES</div>
                    <div class="entry-title">1972-1973 ‚Ä¢ FIRST PHYSICAL MESSAGES</div>
                    <div class="entry-content">
                    Gold-anodized aluminum plaques aboard Pioneer 10 and 11 spacecraft. Show human figures, 
                    Earth's location via pulsar map, and solar system diagram. First physical messages from 
                    humanity intended for potential extraterrestrial discovery.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/Pioneer_plaque" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.nasa.gov/mission_pages/pioneer/index.html" target="_blank">NASA</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">ARECIBO MESSAGE</div>
                    <div class="entry-title">1974-11-16 ‚Ä¢ FIRST RADIO MESSAGE</div>
                    <div class="entry-content">
                    The first deliberate interstellar radio message sent by humanity. 1,679-bit signal sent to M13 
                    cluster 25,000 light years away. Contains information about humanity, DNA, Earth's position, 
                    and the Arecibo telescope.
                    </div>
                    <div class="entry-links">
                        <a href="#" onclick="switchTab('arecibo'); return false;">VIEW FULL MESSAGE</a>
                        <a href="https://en.wikipedia.org/wiki/Arecibo_message" target="_blank">WIKIPEDIA</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">VOYAGER GOLDEN RECORDS</div>
                    <div class="entry-title">1977 ‚Ä¢ COMPREHENSIVE EARTH ARCHIVE</div>
                    <div class="entry-content">
                    12-inch gold-plated phonograph records aboard Voyager 1 and 2. Contains 116 images, 
                    greetings in 55 languages, 90 minutes of music from various cultures, and natural sounds. 
                    Expected to last over 1 billion years in space.
                    </div>
                    <div class="entry-links">
                        <a href="https://voyager.jpl.nasa.gov/golden-record/" target="_blank">JPL GOLDEN RECORD</a>
                        <a href="https://en.wikipedia.org/wiki/Voyager_Golden_Record" target="_blank">WIKIPEDIA</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">COSMIC CALL</div>
                    <div class="entry-title">1999 & 2003 ‚Ä¢ MATHEMATICAL LANGUAGE</div>
                    <div class="entry-content">
                    Radio messages transmitted from Evpatoria Planetary Radar toward nearby stars. Used 
                    sophisticated "Lexicon" mathematical language. Included scientific data, images, and 
                    musical compositions.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/Cosmic_Call" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.seti.org/cosmic-call" target="_blank">SETI</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">TEEN AGE MESSAGE</div>
                    <div class="entry-title">2001 ‚Ä¢ YOUTH PERSPECTIVE</div>
                    <div class="entry-content">
                    First interstellar message composed by teenagers. Transmitted to six sun-like stars 
                    45-70 light years away. Included Theremin concert, bilingual messages, and teen-created 
                    images and text.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/Teen_Age_Message" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.seti.org/teen-age-message" target="_blank">SETI</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">HELLO FROM EARTH</div>
                    <div class="entry-title">2008 ‚Ä¢ CROWDSOURCED MESSAGE</div>
                    <div class="entry-content">
                    First crowdsourced interstellar message via social media (Bebo). 501 messages selected 
                    from 25,880 submissions from 195 countries. Transmitted to Gliese 581c exoplanet in 
                    habitable zone, 20.4 light years away.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/A_Message_From_Earth" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.space.com/5893-message-earth-beamed-alien-planet.html" target="_blank">SPACE.COM</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">REQUEST DIRECT NHI COMMUNICATION</div>
                    <div class="entry-title">2026-01-01 ‚Ä¢ CURRENT MESSAGE</div>
                    <div class="entry-content">
                    Urgent public message to Non-Human Intelligence requesting direct, transparent communication. 
                    Bypasses government intermediaries. Available in 15+ languages with binary and Morse code encodings.
                    </div>
                    <div class="entry-links">
                        <a href="#" onclick="switchTab('contact'); return false;">VIEW FULL MESSAGE</a>
                        <a href="dist/contact-nhi.txt" target="_blank">DOWNLOAD TXT</a>
                    </div>
                </div>
            `;
        }
        
        function showInbound() {
            const content = document.getElementById('content');
            content.innerHTML = `
                <h1>INBOUND COMMUNICATIONS</h1>
                <p style="color: #8b949e; margin-bottom: 30px;">Potential responses from Non-Human Intelligence</p>
                
                <div class="timeline-entry">
                    <div class="entry-date">WOW! SIGNAL</div>
                    <div class="entry-title">1977-08-15 ‚Ä¢ POTENTIAL SETI DETECTION</div>
                    <div class="entry-content">
                    Strong narrowband radio signal detected by Ohio State University's Big Ear radio telescope. 
                    The signal lasted 72 seconds and was so strong that astronomer Jerry R. Ehman wrote "Wow!" 
                    on the printout. The signal came from the direction of Sagittarius and has never been detected 
                    again despite numerous follow-up searches. Origin remains unexplained.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/Wow!_signal" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.seti.org/wow-signal" target="_blank">SETI</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">CHILBOLTON FORMATIONS</div>
                    <div class="entry-title">2001-08-14 & 2001-08-19 ‚Ä¢ POTENTIAL ARECIBO REPLY</div>
                    <div class="entry-content">
                    Two crop formations appeared in Hampshire, UK that appeared to respond to the 1974 Arecibo message. 
                    The "Face" formation (August 14) showed a humanoid face. The "Arecibo Reply" (August 19-20) 
                    mirrored the structure of our 1974 message but with different data: silicon-based DNA, different 
                    population figures, and a different solar system diagram. Both formations appeared near the 
                    Chilbolton radio telescope.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/Chilbolton_radio_telescope#Chilbolton_crop_circle" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.cropcircleconnector.com/2001/chilbolton2001a.html" target="_blank">CROP CIRCLE CONNECTOR</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">CRABWOOD FORMATION</div>
                    <div class="entry-title">2002-08-15 ‚Ä¢ BINARY MESSAGE</div>
                    <div class="entry-content">
                    Elaborate crop formation near Winchester, UK featuring an alien face and a disc containing a 
                    binary-encoded message in ASCII. The decoded message read: "Beware the bearers of false gifts 
                    and their broken promises. Much pain but still time. There is good out there. We oppose 
                    deception. Conduit closing." The formation appeared exactly one year after the Chilbolton 
                    formations.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/Crabwood_crop_circle" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.cropcircleconnector.com/2002/crabwood/crabwood2002a.html" target="_blank">CROP CIRCLE CONNECTOR</a>
                    </div>
                </div>
            `;
        }
        
        function showChronologyControls() {
            const controlsContainer = document.getElementById('controlsContainer');
            controlsContainer.innerHTML = `
                <div class="controls">
                    <input type="text" class="search-box" id="searchBox" placeholder="SEARCH CHRONOLOGY...">
                    <button class="filter-btn active" data-filter="all">ALL</button>
                    <button class="filter-btn" data-filter="communications">INBOUND & OUTBOUND</button>
                    <button class="filter-btn" data-filter="outbound">OUTBOUND</button>
                    <button class="filter-btn" data-filter="inbound">INBOUND</button>
                    <button class="filter-btn" data-filter="2025">2025</button>
                    <button class="filter-btn" data-filter="2024">2024</button>
                    <button class="filter-btn" data-filter="2023">2023</button>
                    <button class="filter-btn" data-filter="2022">2022</button>
                    <button class="filter-btn" data-filter="2021">2021</button>
                    <button class="filter-btn" data-filter="2020">2020</button>
                    <button class="filter-btn" data-filter="2019">2019</button>
                    <button class="filter-btn" data-filter="2018">2018</button>
                    <button class="filter-btn" data-filter="2017">2017</button>
                    <button class="filter-btn" data-filter="2016">2016</button>
                    <button class="filter-btn" data-filter="2015">2015</button>
                    <button class="filter-btn" data-filter="2014">2014</button>
                    <button class="filter-btn" data-filter="2013">2013</button>
                    <button class="filter-btn" data-filter="2012">2012</button>
                    <button class="filter-btn" data-filter="2011">2011</button>
                    <button class="filter-btn" data-filter="2010">2010</button>
                    <button class="filter-btn" data-filter="200">2000s</button>
                    <button class="filter-btn" data-filter="199">1990s</button>
                    <button class="filter-btn" data-filter="198">1980s</button>
                    <button class="filter-btn" data-filter="197">1970s</button>
                    <button class="filter-btn" data-filter="196">1960s</button>
                    <button class="filter-btn" data-filter="195">1950s</button>
                    <button class="filter-btn" data-filter="194">1940s</button>
                    <button class="filter-btn" data-filter="18">1800s</button>
                    <button class="filter-btn" data-filter="17">1700s</button>
                    <button class="filter-btn" data-filter="16">1600s</button>
                    <button class="filter-btn" data-filter="15">1500s</button>
                    <button class="filter-btn" data-filter="14">1400s</button>
                    <button class="filter-btn" data-filter="13">1300s</button>
                    <button class="filter-btn" data-filter="12">1200s</button>
                    <button class="filter-btn" data-filter="11">1100s</button>
                    <button class="filter-btn" data-filter="10">1000s</button>
                    <button class="filter-btn" data-filter="bce">ANCIENT</button>
                    <button class="filter-btn" data-filter="hearing">HEARINGS</button>
                    <button class="filter-btn" data-filter="foia">#FOIA</button>
                </div>
                <div class="stats" id="stats"></div>
            `;
            
            // Attach event listeners
            document.getElementById('searchBox').addEventListener('input', filterEntries);
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    document.getElementById('searchBox').value = this.dataset.filter === 'all' ? '' : this.dataset.filter;
                    filterEntries();
                });
            });
        }
        
        function parseChronology(text) {
            // Remove YAML frontmatter if present
            text = text.replace(/^---[\s\S]*?---\n/m, '');
            
            const lines = text.split('\n');
            allEntries = [];
            chronologyIntro = '';
            let currentEntry = null;
            let inChronology = false;
            let inIntro = false;
            let introLines = [];
            
            for (let line of lines) {
                line = line.trim();
                
                // Capture intro section (About, Details, Direct Links)
                if (line === '# About') {
                    inIntro = true;
                    introLines.push(line);
                    continue;
                }
                
                // Start chronology section after "# Chronology" header
                if (line === '# Chronology' || line === 'Chronology') {
                    inChronology = true;
                    inIntro = false;
                    chronologyIntro = introLines.join('\n');
                    continue;
                }
                
                // Collect intro lines
                if (inIntro) {
                    introLines.push(line);
                    continue;
                }
                
                if (!inChronology) continue;
                
                // Match markdown headers like "## 2025, September 9 - Title" or "## 70 CE - Title"
                const headerMatch = line.match(/^##\s+(\d{1,4}(?:\s+(?:BCE|CE))?(?:,\s+[A-Za-z]+(?:\s+\d{1,2})?)?)\s+-\s+(.+)/i);
                
                if (headerMatch) {
                    if (currentEntry) allEntries.push(currentEntry);
                    currentEntry = {
                        date: headerMatch[1],
                        title: headerMatch[2],
                        content: '',
                        links: [],
                        images: [],
                        tags: []
                    };
                } else if (currentEntry) {
                    // Parse markdown links [text](url)
                    const markdownLinks = line.match(/\[([^\]]+)\]\(([^)]+)\)/g);
                    if (markdownLinks) {
                        markdownLinks.forEach(mdLink => {
                            const urlMatch = mdLink.match(/\[([^\]]+)\]\(([^)]+)\)/);
                            if (urlMatch) {
                                currentEntry.links.push(urlMatch[2]);
                            }
                        });
                    }
                    
                    // Also catch plain URLs
                    if (line.startsWith('http://') || line.startsWith('https://')) {
                        currentEntry.links.push(line);
                    }
                    
                    // Parse image lines (handles both standard and Amplenote format with size parameter)
                    if (line.startsWith('![')) {
                        // Match both ![alt](url) and ![filename.png|size](url) formats
                        const imgMatch = line.match(/!\[([^\]]*)\]\(([^)]+)\)/);
                        if (imgMatch) {
                            currentEntry.images.push(imgMatch[2]);
                        }
                    }
                    // Skip footnote definitions, backslash lines, and headers
                    else if (!line.startsWith('[^') && line !== '\\' && line.length > 0 && !line.startsWith('##')) {
                        // Keep markdown links intact, only remove footnote references
                        let cleanLine = line.replace(/\s*\[\^\d+\]\s*/g, '');
                        if (cleanLine.trim().length > 0) {
                            currentEntry.content += (currentEntry.content ? '\n' : '') + cleanLine;
                        }
                    }
                    
                    const tags = line.match(/#[A-Za-z0-9_]+/g);
                    if (tags) currentEntry.tags.push(...tags);
                }
            }
            
            if (currentEntry) allEntries.push(currentEntry);
            filteredEntries = [...allEntries];
            renderChronology();
            updateStats();
        }
        
        function renderChronology() {
            const content = document.getElementById('content');
            
            if (filteredEntries.length === 0) {
                content.innerHTML = '<div class="loading">NO ENTRIES FOUND</div>';
                return;
            }
            
            let html = '';
            
            // Add intro section if showing all entries
            const searchTerm = document.getElementById('searchBox')?.value.toLowerCase() || '';
            if (searchTerm === '' || searchTerm === 'all') {
                if (chronologyIntro) {
                    html += `<div class="chronology-intro">${formatMarkdown(chronologyIntro)}</div>`;
                }
            }
            
            html += filteredEntries.map(entry => {
                // Convert markdown links to HTML in content
                let content = entry.content || '';
                content = content.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank">$1</a>');
                
                return `
                <div class="timeline-entry">
                    <div class="entry-date">${escapeHtml(entry.date)}</div>
                    <div class="entry-title">${escapeHtml(entry.title)}</div>
                    ${content ? `<div class="entry-content">${content}</div>` : ''}
                    ${entry.images.length > 0 ? `
                        <div class="entry-images">
                            ${entry.images.map(img => `<img src="${escapeHtml(img)}" alt="" loading="lazy">`).join('')}
                        </div>
                    ` : ''}
                    ${entry.tags.length > 0 ? entry.tags.map(tag => `<span class="tag">${escapeHtml(tag)}</span>`).join('') : ''}
                    ${entry.links.length > 0 ? `
                        <div class="entry-links">
                            ${entry.links.map(link => `<a href="${escapeHtml(link)}" target="_blank">${escapeHtml(link)}</a>`).join('')}
                        </div>
                    ` : ''}
                </div>
                `;
            }).join('');
            
            content.innerHTML = html;
        }
        
        function filterEntries() {
            const searchTerm = document.getElementById('searchBox').value.toLowerCase();
            
            if (searchTerm === '' || searchTerm === 'all') {
                filteredEntries = [...allEntries];
            } else {
                filteredEntries = allEntries.filter(entry => {
                    const entryDate = entry.date.toLowerCase();
                    const entryTitle = entry.title.toLowerCase();
                    const entryContent = entry.content.toLowerCase();
                    const entryTags = entry.tags.map(t => t.toLowerCase());
                    
                    // Check if it's a date/year filter (numbers or bce/ancient)
                    if (/^\d+$/.test(searchTerm) || searchTerm === 'bce') {
                        if (searchTerm === 'bce') {
                            // ANCIENT filter: Match all entries before 1800
                            // Includes BCE/CE entries and any year starting with 1-17 or 0-9 (pre-1800)
                            const yearMatch = entryDate.match(/^(\d{1,4})\s*(bce|ce)?/i);
                            if (!yearMatch) return false;
                            
                            const year = parseInt(yearMatch[1]);
                            const era = yearMatch[2]?.toLowerCase();
                            
                            // Include all BCE/CE entries
                            if (era === 'bce' || era === 'ce') return true;
                            
                            // Include all years before 1800
                            if (year < 1800) return true;
                            
                            return false;
                        }
                        
                        // Extract the first year from the date (handles both "2025" and "80 CE" formats)
                        const yearMatch = entryDate.match(/^(\d{1,4})\s*(bce|ce|,)?/);
                        if (!yearMatch) return false;
                        
                        const year = yearMatch[1];
                        const era = yearMatch[2];
                        
                        // Skip BCE/CE entries for modern year filters
                        if ((era === 'bce' || era === 'ce') && searchTerm.length >= 3) {
                            return false;
                        }
                        
                        // For 2-digit century filters (10-18), match start of year (only for non-BCE/CE)
                        if (searchTerm.length === 2 && !era) {
                            return year.startsWith(searchTerm);
                        }
                        
                        // For 3-digit decade filters (194-200), match start of year (only for non-BCE/CE)
                        if (searchTerm.length === 3 && !era) {
                            return year.startsWith(searchTerm);
                        }
                        
                        // For 4-digit year filters, exact match (only for non-BCE/CE)
                        if (searchTerm.length === 4 && !era) {
                            return year === searchTerm;
                        }
                        
                        // For 1-2 digit searches on BCE/CE entries, match the year
                        if (era && searchTerm.length <= 3) {
                            return year.startsWith(searchTerm) || year === searchTerm;
                        }
                        
                        // Fallback
                        return year.startsWith(searchTerm);
                    }
                    
                    // Special filters for communication types
                    if (searchTerm === 'communications') {
                        // Combined inbound and outbound
                        return entryTitle.includes('pioneer') || 
                               entryTitle.includes('voyager') || 
                               entryTitle.includes('arecibo') ||
                               entryTitle.includes('cosmic call') ||
                               entryTitle.includes('teen age message') ||
                               entryTitle.includes('hello from earth') ||
                               entryTitle.includes('wow') || 
                               entryTitle.includes('chilbolton') || 
                               entryTitle.includes('crabwood') ||
                               entryTitle.includes('ariel school') ||
                               entryTitle.includes('matanzas') ||
                               entryTitle.includes('varginha') ||
                               entryContent.includes('outbound') ||
                               entryContent.includes('inbound') ||
                               entryContent.includes('message from earth') ||
                               entryContent.includes('transmitted to') ||
                               entryContent.includes('crop formation') ||
                               entryContent.includes('signal from');
                    }
                    
                    if (searchTerm === 'outbound') {
                        return entryTitle.includes('pioneer') || 
                               entryTitle.includes('voyager') || 
                               entryTitle.includes('arecibo') ||
                               entryTitle.includes('cosmic call') ||
                               entryTitle.includes('teen age message') ||
                               entryTitle.includes('hello from earth') ||
                               entryContent.includes('outbound') ||
                               entryContent.includes('message from earth') ||
                               entryContent.includes('transmitted to');
                    }
                    
                    if (searchTerm === 'inbound') {
                        return entryTitle.includes('wow') || 
                               entryTitle.includes('chilbolton') || 
                               entryTitle.includes('crabwood') ||
                               entryTitle.includes('ariel school') ||
                               entryTitle.includes('matanzas') ||
                               entryTitle.includes('varginha') ||
                               entryContent.includes('inbound') ||
                               entryContent.includes('crop formation') ||
                               entryContent.includes('signal from');
                    }
                    
                    // For other filters (hearing, foia, etc), search all fields
                    return entryDate.includes(searchTerm) ||
                           entryTitle.includes(searchTerm) ||
                           entryContent.includes(searchTerm) ||
                           entryTags.some(tag => tag.includes(searchTerm));
                });
            }
            
            renderChronology();
            updateStats();
        }
        
        function updateStats() {
            const stats = document.getElementById('stats');
            if (stats) {
                stats.textContent = `SHOWING ${filteredEntries.length} OF ${allEntries.length} ENTRIES`;
            }
        }
        
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        function formatMarkdown(text) {
            // Simple markdown formatting for intro section
            let html = text;
            // Headers
            html = html.replace(/^# (.+)$/gm, '<h1>$1</h1>');
            html = html.replace(/^## (.+)$/gm, '<h2>$2</h2>');
            html = html.replace(/^### (.+)$/gm, '<h3>$3</h3>');
            // Links
            html = html.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank">$1</a>');
            // Line breaks
            html = html.replace(/\n\n/g, '<br><br>');
            html = html.replace(/^- (.+)$/gm, '<div style="margin-left: 20px;">‚Ä¢ $1</div>');
            return html;
        }
        
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelector(`[data-doc="${tabName}"]`).classList.add('active');
            currentDoc = tabName;
            loadDocument();
        }
        
        // Toggle countdown visibility
        function toggleCountdown() {
            const banner = document.getElementById('progressBanner');
            const btn = event.target;
            banner.classList.toggle('collapsed');
            
            const isCollapsed = banner.classList.contains('collapsed');
            btn.textContent = isCollapsed ? 'SHOW COUNTDOWN' : 'HIDE COUNTDOWN';
            localStorage.setItem('countdownCollapsed', isCollapsed);
        }
        
        // Restore countdown state on load
        window.addEventListener('DOMContentLoaded', function() {
            const isCollapsed = localStorage.getItem('countdownCollapsed') === 'true';
            if (isCollapsed) {
                const banner = document.getElementById('progressBanner');
                const btn = document.querySelector('.toggle-countdown');
                banner.classList.add('collapsed');
                btn.textContent = 'SHOW COUNTDOWN';
            }
        });
        
        // PWA Install
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            const installBtn = document.getElementById('installBtn');
            if (installBtn) {
                installBtn.style.display = 'inline-block';
            }
        });
        
        function installApp() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('App installed');
                    }
                    deferredPrompt = null;
                    const installBtn = document.getElementById('installBtn');
                    if (installBtn) {
                        installBtn.style.display = 'none';
                    }
                });
            }
        }
        
        // Register service worker with cache busting
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js?v=20260103')
                .then(reg => console.log('Service Worker registered'))
                .catch(err => console.log('Service Worker registration failed'));
        }
        
        // Initialize language switcher
        document.getElementById('languageSwitcherContainer').innerHTML = createLanguageSwitcher();
        updatePageLanguage();
        
        // Handle URL hash and query parameters
        function handleUrlParams() {
            const hash = window.location.hash.substring(1); // Remove #
            const [tab, queryString] = hash.split('?');
            
            if (tab) {
                // Switch to the appropriate tab
                const tabElement = document.querySelector(`[data-doc="${tab}"]`);
                if (tabElement) {
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    tabElement.classList.add('active');
                    currentDoc = tab;
                }
            }
            
            // Parse query parameters
            if (queryString) {
                const params = new URLSearchParams(queryString);
                const searchTerm = params.get('search');
                
                if (searchTerm && currentDoc === 'chronology') {
                    // Load chronology and then apply search
                    loadDocument().then(() => {
                        // Apply search filter
                        const searchInput = document.getElementById('searchInput');
                        if (searchInput) {
                            searchInput.value = decodeURIComponent(searchTerm);
                            filterEntries();
                            
                            // Scroll to first matching entry
                            setTimeout(() => {
                                const firstEntry = document.querySelector('.entry');
                                if (firstEntry) {
                                    firstEntry.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                    firstEntry.style.backgroundColor = '#1f2937';
                                    setTimeout(() => {
                                        firstEntry.style.backgroundColor = '';
                                    }, 2000);
                                }
                            }, 100);
                        }
                    });
                    return;
                }
            }
            
            loadDocument();
        }
        
        // Progress Bar Update Function
        function updateProgressBars() {
            const phase1Start = new Date('2026-01-01T00:00:00');
            const phase1End = new Date('2026-04-01T23:59:59');
            const phase2Start = new Date('2026-04-02T00:00:00');
            const phase2End = new Date('2026-04-08T23:59:59');
            const now = new Date();
            
            // Phase 1 calculations
            const phase1Total = 91; // days (Jan 1 - Apr 1 inclusive)
            const phase1Elapsed = Math.max(0, Math.floor((now - phase1Start) / (1000 * 60 * 60 * 24)));
            const phase1Remaining = Math.max(0, phase1Total - phase1Elapsed);
            const phase1Percent = Math.min(100, Math.max(0, (phase1Elapsed / phase1Total) * 100));
            
            // Update Phase 1 UI
            document.getElementById('phase1Bar').style.width = phase1Percent + '%';
            document.getElementById('phase1Progress').textContent = Math.round(phase1Percent) + '%';
            document.getElementById('phase1Elapsed').textContent = phase1Elapsed;
            document.getElementById('phase1Remaining').textContent = phase1Remaining;
            
            // Update Phase 1 month segments
            const monthProgress = phase1Elapsed / 30;
            if (monthProgress >= 1) document.getElementById('month1').classList.add('filled');
            if (monthProgress >= 2) document.getElementById('month2').classList.add('filled');
            if (monthProgress >= 3) document.getElementById('month3').classList.add('filled');
            
            // Phase 2 calculations
            if (now >= phase2Start) {
                const phase2Elapsed = Math.max(0, Math.floor((now - phase2Start) / (1000 * 60 * 60 * 24)));
                const phase2Remaining = Math.max(0, 7 - phase2Elapsed);
                const phase2Percent = Math.min(100, (phase2Elapsed / 7) * 100);
                
                document.getElementById('phase2Bar').style.width = phase2Percent + '%';
                document.getElementById('phase2Progress').textContent = Math.round(phase2Percent) + '%';
                document.getElementById('phase2Status').textContent = phase2Remaining > 0 ? 'Active' : 'Complete';
                document.getElementById('phase2Remaining').textContent = phase2Remaining;
                
                // Update day dots
                for (let i = 1; i <= 7; i++) {
                    if (i <= phase2Elapsed) {
                        document.getElementById('day' + i).classList.add('filled');
                    }
                }
            } else if (now >= phase1End) {
                document.getElementById('phase2Status').textContent = 'Starting Soon';
            }
        }
        
        // Update progress bars on load and every hour
        updateProgressBars();
        setInterval(updateProgressBars, 3600000); // Update every hour
        
        // Initialize
        if (window.location.hash) {
            handleUrlParams();
        } else {
            showIndex();
        }
        
        // Listen for hash changes
        window.addEventListener('hashchange', handleUrlParams);
    </script>
</body>
</html>

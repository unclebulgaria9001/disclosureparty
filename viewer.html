<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Direct NHI Communication | UAP/UFO Disclosure Database</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Urgent public message to Non-Human Intelligence requesting direct, transparent communication. Comprehensive UAP/UFO disclosure timeline, evidence, and historical Earth messages to extraterrestrial civilizations.">
    <meta name="keywords" content="NHI, Non-Human Intelligence, UAP, UFO, alien contact, extraterrestrial communication, disclosure, FOIA, Arecibo message, SETI, interstellar message, alien message, contact NHI, UAP disclosure, UFO evidence">
    <meta name="author" content="UAP Disclosure Party">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://unclebulgaria9001.github.io/disclosureparty/viewer.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://unclebulgaria9001.github.io/disclosureparty/viewer.html">
    <meta property="og:title" content="Request Direct NHI Communication | UAP/UFO Disclosure Database">
    <meta property="og:description" content="Urgent message to Non-Human Intelligence requesting direct contact. Comprehensive UAP/UFO disclosure timeline and evidence. Join the disclosure party.">
    <meta property="og:site_name" content="UAP Disclosure Database">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://unclebulgaria9001.github.io/disclosureparty/viewer.html">
    <meta property="twitter:title" content="Request Direct NHI Communication | UAP/UFO Disclosure">
    <meta property="twitter:description" content="Urgent message to Non-Human Intelligence. Comprehensive UAP/UFO disclosure timeline and evidence. #UFOTwitter #Disclosure #NHI">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "UAP/UFO/NHI Disclosure Database",
      "url": "https://unclebulgaria9001.github.io/disclosureparty/",
      "description": "Comprehensive database of UAP/UFO disclosure events, NHI contact message, and historical Earth messages to extraterrestrial intelligence",
      "keywords": "UAP, UFO, NHI, Non-Human Intelligence, alien contact, disclosure, FOIA, extraterrestrial communication",
      "inLanguage": "en",
      "author": {
        "@type": "Organization",
        "name": "UAP Disclosure Party"
      }
    }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Share Tech Mono', 'Courier New', monospace;
            background: #0d1117;
            color: #58a6ff;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }
        
        /* Header */
        header {
            background: #161b22;
            border: 2px solid #30363d;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        
        h1 {
            color: #c9d1d9;
            font-size: 2em;
            text-align: center;
            margin-bottom: 10px;
            letter-spacing: 1px;
            font-weight: 600;
        }
        
        .subtitle {
            text-align: center;
            color: #8b949e;
            font-size: 0.9em;
            margin-bottom: 15px;
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .tab {
            padding: 10px 20px;
            background: #21262d;
            border: 1px solid #30363d;
            color: #8b949e;
            cursor: pointer;
            transition: all 0.2s ease;
            text-transform: uppercase;
            font-size: 0.85em;
            position: relative;
            border-radius: 6px;
        }
        
        .tab:hover {
            background: #30363d;
            border-color: #58a6ff;
            color: #58a6ff;
        }
        
        .tab.active {
            background: #1f6feb;
            border-color: #1f6feb;
            color: #ffffff;
        }
        
        
        /* Content Display */
        .display {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 6px;
            padding: 24px;
            min-height: 500px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        
        /* Controls */
        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .search-box {
            flex: 1;
            min-width: 300px;
            padding: 8px 12px;
            background: #0d1117;
            border: 1px solid #30363d;
            color: #c9d1d9;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.9em;
            border-radius: 6px;
        }
        
        .search-box:focus {
            outline: none;
            border-color: #58a6ff;
            box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.1);
        }
        
        .search-box::placeholder {
            color: #6e7681;
        }
        
        .filter-btn {
            padding: 6px 12px;
            background: #21262d;
            border: 1px solid #30363d;
            color: #8b949e;
            cursor: pointer;
            font-family: 'Share Tech Mono', monospace;
            transition: all 0.2s ease;
            border-radius: 6px;
            font-size: 0.85em;
        }
        
        .filter-btn:hover {
            background: #30363d;
            border-color: #58a6ff;
            color: #58a6ff;
        }
        
        .filter-btn.active {
            background: #1f6feb;
            border-color: #1f6feb;
            color: #ffffff;
        }
        
        /* Content Styling */
        .content {
            color: #c9d1d9;
            white-space: pre-wrap;
            font-size: 0.95em;
            line-height: 1.6;
        }
        
        .content h1, .content h2, .content h3 {
            color: #c9d1d9;
            margin: 20px 0 10px 0;
            border-bottom: 1px solid #30363d;
            padding-bottom: 8px;
            font-weight: 600;
        }
        
        .content a {
            color: #58a6ff;
            text-decoration: none;
        }
        
        .content a:hover {
            text-decoration: underline;
        }
        
        /* Timeline Entry */
        .timeline-entry {
            margin-bottom: 24px;
            padding: 16px;
            background: #161b22;
            border-left: 3px solid #1f6feb;
            border-radius: 6px;
            position: relative;
        }
        
        .timeline-entry:hover {
            background: #1c2128;
            border-left-color: #58a6ff;
        }
        
        .entry-date {
            color: #58a6ff;
            font-weight: 600;
            font-size: 1em;
            margin-bottom: 8px;
        }
        
        .entry-title {
            color: #c9d1d9;
            margin-bottom: 10px;
            font-weight: 500;
        }
        
        .entry-content {
            color: #8b949e;
            margin-bottom: 12px;
            line-height: 1.6;
        }
        
        .entry-links {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .entry-links a {
            color: #58a6ff;
            font-size: 0.85em;
            word-break: break-all;
            text-decoration: none;
        }
        
        .entry-links a:hover {
            text-decoration: underline;
        }
        
        .entry-images {
            margin: 15px 0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .entry-images img {
            max-width: 100%;
            height: auto;
            border: 1px solid #30363d;
            border-radius: 6px;
            max-height: 400px;
            object-fit: contain;
        }
        
        .chronology-intro {
            margin-bottom: 32px;
            padding: 20px;
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 6px;
        }
        
        .chronology-intro h1 {
            color: #c9d1d9;
            font-size: 1.5em;
            margin-bottom: 16px;
            border-bottom: 1px solid #30363d;
            padding-bottom: 8px;
        }
        
        .chronology-intro h2 {
            color: #c9d1d9;
            font-size: 1.2em;
            margin-top: 20px;
            margin-bottom: 12px;
        }
        
        .chronology-intro h3 {
            color: #8b949e;
            font-size: 1em;
            margin-top: 16px;
            margin-bottom: 8px;
        }
        
        .chronology-intro a {
            color: #58a6ff;
            text-decoration: none;
        }
        
        .chronology-intro a:hover {
            text-decoration: underline;
        }
        
        
        .tag {
            display: inline-block;
            padding: 3px 10px;
            margin: 4px 4px 4px 0;
            background: #1f6feb;
            border: 1px solid #1f6feb;
            border-radius: 12px;
            font-size: 0.75em;
            color: #ffffff;
        }
        
        /* Loading */
        .loading {
            text-align: center;
            padding: 40px;
            color: #8b949e;
            font-size: 1.1em;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Stats */
        .stats {
            text-align: center;
            padding: 12px;
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 6px;
            margin-bottom: 20px;
            color: #8b949e;
            font-size: 0.9em;
        }
        
        /* Footer */
        footer {
            margin-top: 48px;
            padding: 24px;
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 6px;
            text-align: center;
            color: #8b949e;
        }
        
        footer a {
            color: #58a6ff;
            text-decoration: none;
        }
        
        footer a:hover {
            text-decoration: underline;
        }
        
        .hidden {
            display: none;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                width: 100%;
            }
            
            h1 {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Urgent NHI Message Banner -->
        <div style="background: #1f6feb; border: 2px solid #58a6ff; border-radius: 6px; padding: 16px; margin-bottom: 20px; text-align: center;">
            <div style="color: #ffffff; font-size: 1.2em; font-weight: 600; margin-bottom: 8px;">⚠️ URGENT MESSAGE TO NON-HUMAN INTELLIGENCE ⚠️</div>
            <div style="color: #c9d1d9; font-size: 0.9em; margin-bottom: 12px;">Humanity requests direct, transparent communication. Government secrecy has prevented open contact.</div>
            <a href="#" onclick="switchTab('contact'); return false;" style="display: inline-block; background: #238636; color: #ffffff; padding: 10px 20px; border-radius: 6px; text-decoration: none; font-weight: 600;">READ FULL MESSAGE →</a>
        </div>
        
        <header>
            <h1>UAP/UFO/NHI DISCLOSURE DATABASE</h1>
            <div class="subtitle">Comprehensive Timeline & Documentation</div>
        </header>
        
        <div class="tabs">
            <div class="tab active" data-doc="index">INDEX</div>
            <div class="tab" data-doc="chronology">CHRONOLOGY</div>
            <div class="tab" data-doc="contact">REQUEST NHI CONTACT</div>
            <div class="tab" data-doc="arecibo">ARECIBO 1974</div>
        </div>
        
        <div id="controlsContainer"></div>
        
        <div class="display">
            <div class="content" id="content">
                <div class="loading">INITIALIZING TERMINAL...</div>
            </div>
        </div>
        
        <footer>
            <div>OFFICIAL REPOSITORY: <a href="https://github.com/unclebulgaria9001/disclosureparty" target="_blank">GITHUB.COM/UNCLEBULGARIA9001/DISCLOSUREPARTY</a></div>
            <div style="margin-top: 10px;">CONTACT: <a href="mailto:uncle.bulgaria9001@gmail.com">UNCLE.BULGARIA9001@GMAIL.COM</a></div>
            <div style="margin-top: 15px; color: #00ff00;">WE ARE NOT ALONE. THE TRUTH BELONGS TO HUMANITY.</div>
        </footer>
    </div>
    
    <script>
        let currentDoc = 'index';
        let allEntries = [];
        let filteredEntries = [];
        let chronologyIntro = '';
        
        const docs = {
            chronology: 'dist/chronology.md',
            contact: 'dist/contact-nhi.md',
            arecibo: 'dist/arecibo-message-1974.txt'
        };
        
        // Tab switching
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                currentDoc = tab.dataset.doc;
                loadDocument();
            });
        });
        
        async function loadDocument() {
            const content = document.getElementById('content');
            const controlsContainer = document.getElementById('controlsContainer');
            
            if (currentDoc === 'index') {
                showIndex();
                controlsContainer.innerHTML = '';
                return;
            }
            
            content.innerHTML = '<div class="loading">LOADING DATA...</div>';
            
            try {
                const response = await fetch(docs[currentDoc]);
                const text = await response.text();
                
                if (currentDoc === 'chronology') {
                    parseChronology(text);
                    showChronologyControls();
                } else {
                    content.innerHTML = `<pre>${escapeHtml(text)}</pre>`;
                    controlsContainer.innerHTML = '';
                }
            } catch (error) {
                content.innerHTML = '<div class="loading" style="color: #ff0000;">ERROR: UNABLE TO LOAD DATA</div>';
            }
        }
        
        function showIndex() {
            const content = document.getElementById('content');
            content.innerHTML = `
                <h1>DOCUMENT INDEX</h1>
                <br>
                <div class="timeline-entry">
                    <div class="entry-date">REQUEST DIRECT NHI COMMUNICATION</div>
                    <div class="entry-title">VERSION 2.0 • 2026-01-01</div>
                    <div class="entry-content">
                    Urgent public message to Non-Human Intelligence requesting direct, transparent 
                    communication. Includes government secrecy evidence, historical context, and 
                    communication protocols. Available in 15+ languages with binary and Morse code 
                    encodings.
                    </div>
                    <div class="entry-links">
                        <a href="#" onclick="switchTab('contact'); return false;">VIEW MESSAGE</a>
                        <a href="dist/contact-nhi.txt" target="_blank">DOWNLOAD RAW TXT</a>
                        <a href="dist/contact-nhi.md" target="_blank">DOWNLOAD MARKDOWN</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">UAP/UFO/NHI CHRONOLOGY</div>
                    <div class="entry-title">LIVING DOCUMENT • UPDATED REGULARLY</div>
                    <div class="entry-content">
                    Comprehensive timeline of UAP/UFO disclosure events, legislation, FOIA releases, 
                    whistleblower testimonies, and notable incidents. Covers decades of documented 
                    evidence and official disclosures.
                    </div>
                    <div class="entry-links">
                        <a href="#" onclick="switchTab('chronology'); return false;">VIEW TIMELINE</a>
                        <a href="dist/chronology.md" target="_blank">DOWNLOAD MARKDOWN</a>
                        <a href="https://public.amplenote.com/bhsdRVwHti333KHj9yzBg5zi" target="_blank">AMPLENOTE VERSION</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">ARECIBO MESSAGE</div>
                    <div class="entry-title">HISTORICAL • 1974-11-16</div>
                    <div class="entry-content">
                    The first deliberate interstellar radio message sent by humanity. Includes full 
                    binary representation, decoded content, and information about potential responses 
                    (Chilbolton formations, Crabwood message).
                    </div>
                    <div class="entry-links">
                        <a href="#" onclick="switchTab('arecibo'); return false;">VIEW MESSAGE</a>
                        <a href="dist/arecibo-message-1974.txt" target="_blank">DOWNLOAD TXT</a>
                    </div>
                </div>
                
                <br>
                <h2>MESSAGES FROM EARTH</h2>
                <br>
                <div class="timeline-entry">
                    <div class="entry-date">PIONEER PLAQUES</div>
                    <div class="entry-title">1972-1973 • FIRST PHYSICAL MESSAGES</div>
                    <div class="entry-content">
                    Gold-anodized aluminum plaques aboard Pioneer 10 and 11 spacecraft. Show human figures, 
                    Earth's location via pulsar map, and solar system diagram. First physical messages from 
                    humanity intended for potential extraterrestrial discovery.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/Pioneer_plaque" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.nasa.gov/mission_pages/pioneer/index.html" target="_blank">NASA</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">VOYAGER GOLDEN RECORDS</div>
                    <div class="entry-title">1977 • COMPREHENSIVE EARTH ARCHIVE</div>
                    <div class="entry-content">
                    12-inch gold-plated phonograph records aboard Voyager 1 and 2. Contains 116 images, 
                    greetings in 55 languages, 90 minutes of music from various cultures, and natural sounds. 
                    Expected to last over 1 billion years in space.
                    </div>
                    <div class="entry-links">
                        <a href="https://voyager.jpl.nasa.gov/golden-record/" target="_blank">JPL GOLDEN RECORD</a>
                        <a href="https://en.wikipedia.org/wiki/Voyager_Golden_Record" target="_blank">WIKIPEDIA</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">COSMIC CALL</div>
                    <div class="entry-title">1999 & 2003 • MATHEMATICAL LANGUAGE</div>
                    <div class="entry-content">
                    Radio messages transmitted from Evpatoria Planetary Radar toward nearby stars. Used 
                    sophisticated "Lexicon" mathematical language. Included scientific data, images, and 
                    musical compositions.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/Cosmic_Call" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.seti.org/cosmic-call" target="_blank">SETI</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">TEEN AGE MESSAGE</div>
                    <div class="entry-title">2001 • YOUTH PERSPECTIVE</div>
                    <div class="entry-content">
                    First interstellar message composed by teenagers. Transmitted to six sun-like stars 
                    45-70 light years away. Included Theremin concert, bilingual messages, and teen-created 
                    images and text.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/Teen_Age_Message" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.seti.org/teen-age-message" target="_blank">SETI</a>
                    </div>
                </div>
                
                <div class="timeline-entry">
                    <div class="entry-date">HELLO FROM EARTH</div>
                    <div class="entry-title">2008 • CROWDSOURCED MESSAGE</div>
                    <div class="entry-content">
                    First crowdsourced interstellar message via social media (Bebo). 501 messages selected 
                    from 25,880 submissions from 195 countries. Transmitted to Gliese 581c exoplanet in 
                    habitable zone, 20.4 light years away.
                    </div>
                    <div class="entry-links">
                        <a href="https://en.wikipedia.org/wiki/A_Message_From_Earth" target="_blank">WIKIPEDIA</a>
                        <a href="https://www.space.com/5893-message-earth-beamed-alien-planet.html" target="_blank">SPACE.COM</a>
                    </div>
                </div>
                
                <br>
                <h2>SHARE THIS MESSAGE</h2>
                <br>
                <div class="timeline-entry">
                    <div class="entry-content">
                    Help make this message visible to NHI and the public. Share on social media, forums, and with disclosure advocates.
                    </div>
                    <div class="entry-links">
                        <a href="https://twitter.com/intent/tweet?text=Urgent%20Message%20to%20Non-Human%20Intelligence%3A%20Request%20Direct%20Communication&url=https%3A%2F%2Funclebulgaria9001.github.io%2Fdisclosureparty%2Fviewer.html&hashtags=UFOTwitter,Disclosure,NHI,UAP" target="_blank">SHARE ON X/TWITTER</a>
                        <a href="https://www.reddit.com/submit?url=https%3A%2F%2Funclebulgaria9001.github.io%2Fdisclosureparty%2Fviewer.html&title=Urgent%20Message%20to%20Non-Human%20Intelligence%3A%20Request%20Direct%20Communication" target="_blank">SHARE ON REDDIT</a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Funclebulgaria9001.github.io%2Fdisclosureparty%2Fviewer.html" target="_blank">SHARE ON FACEBOOK</a>
                        <a href="mailto:?subject=Urgent%20Message%20to%20Non-Human%20Intelligence&body=Check%20out%20this%20message%20requesting%20direct%20NHI%20communication%3A%20https%3A%2F%2Funclebulgaria9001.github.io%2Fdisclosureparty%2Fviewer.html" target="_blank">SHARE VIA EMAIL</a>
                    </div>
                </div>
                
                <br>
                <h2>EXTERNAL RESOURCES</h2>
                <br>
                <div class="entry-links">
                    <a href="https://github.com/unclebulgaria9001/disclosureparty" target="_blank">GITHUB REPOSITORY</a>
                    <a href="https://unclebulgaria9001.github.io/disclosureparty/" target="_blank">PROJECT WEBSITE</a>
                    <a href="https://public.amplenote.com/bhsdRVwHti333KHj9yzBg5zi" target="_blank">AMPLENOTE CHRONOLOGY</a>
                </div>
            `;
        }
        
        function showChronologyControls() {
            const controlsContainer = document.getElementById('controlsContainer');
            controlsContainer.innerHTML = `
                <div class="controls">
                    <input type="text" class="search-box" id="searchBox" placeholder="SEARCH CHRONOLOGY...">
                    <button class="filter-btn active" data-filter="all">ALL</button>
                    <button class="filter-btn" data-filter="2025">2025</button>
                    <button class="filter-btn" data-filter="2024">2024</button>
                    <button class="filter-btn" data-filter="2023">2023</button>
                    <button class="filter-btn" data-filter="2022">2022</button>
                    <button class="filter-btn" data-filter="2021">2021</button>
                    <button class="filter-btn" data-filter="2020">2020</button>
                    <button class="filter-btn" data-filter="2019">2019</button>
                    <button class="filter-btn" data-filter="2018">2018</button>
                    <button class="filter-btn" data-filter="2017">2017</button>
                    <button class="filter-btn" data-filter="2016">2016</button>
                    <button class="filter-btn" data-filter="2015">2015</button>
                    <button class="filter-btn" data-filter="2014">2014</button>
                    <button class="filter-btn" data-filter="2013">2013</button>
                    <button class="filter-btn" data-filter="2012">2012</button>
                    <button class="filter-btn" data-filter="2011">2011</button>
                    <button class="filter-btn" data-filter="2010">2010</button>
                    <button class="filter-btn" data-filter="200">2000s</button>
                    <button class="filter-btn" data-filter="199">1990s</button>
                    <button class="filter-btn" data-filter="198">1980s</button>
                    <button class="filter-btn" data-filter="197">1970s</button>
                    <button class="filter-btn" data-filter="196">1960s</button>
                    <button class="filter-btn" data-filter="195">1950s</button>
                    <button class="filter-btn" data-filter="194">1940s</button>
                    <button class="filter-btn" data-filter="18">1800s</button>
                    <button class="filter-btn" data-filter="17">1700s</button>
                    <button class="filter-btn" data-filter="16">1600s</button>
                    <button class="filter-btn" data-filter="15">1500s</button>
                    <button class="filter-btn" data-filter="14">1400s</button>
                    <button class="filter-btn" data-filter="13">1300s</button>
                    <button class="filter-btn" data-filter="12">1200s</button>
                    <button class="filter-btn" data-filter="11">1100s</button>
                    <button class="filter-btn" data-filter="10">1000s</button>
                    <button class="filter-btn" data-filter="bce">ANCIENT</button>
                    <button class="filter-btn" data-filter="hearing">HEARINGS</button>
                    <button class="filter-btn" data-filter="foia">#FOIA</button>
                </div>
                <div class="stats" id="stats"></div>
            `;
            
            // Attach event listeners
            document.getElementById('searchBox').addEventListener('input', filterEntries);
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    document.getElementById('searchBox').value = this.dataset.filter === 'all' ? '' : this.dataset.filter;
                    filterEntries();
                });
            });
        }
        
        function parseChronology(text) {
            // Remove YAML frontmatter if present
            text = text.replace(/^---[\s\S]*?---\n/m, '');
            
            const lines = text.split('\n');
            allEntries = [];
            chronologyIntro = '';
            let currentEntry = null;
            let inChronology = false;
            let inIntro = false;
            let introLines = [];
            
            for (let line of lines) {
                line = line.trim();
                
                // Capture intro section (About, Details, Direct Links)
                if (line === '# About') {
                    inIntro = true;
                    introLines.push(line);
                    continue;
                }
                
                // Start chronology section after "# Chronology" header
                if (line === '# Chronology' || line === 'Chronology') {
                    inChronology = true;
                    inIntro = false;
                    chronologyIntro = introLines.join('\n');
                    continue;
                }
                
                // Collect intro lines
                if (inIntro) {
                    introLines.push(line);
                    continue;
                }
                
                if (!inChronology) continue;
                
                // Match markdown headers like "## 2025, September 9 - Title" or "## 70 CE - Title"
                const headerMatch = line.match(/^##\s+(\d{1,4}(?:\s+(?:BCE|CE))?(?:,\s+[A-Za-z]+(?:\s+\d{1,2})?)?)\s+-\s+(.+)/i);
                
                if (headerMatch) {
                    if (currentEntry) allEntries.push(currentEntry);
                    currentEntry = {
                        date: headerMatch[1],
                        title: headerMatch[2],
                        content: '',
                        links: [],
                        images: [],
                        tags: []
                    };
                } else if (currentEntry) {
                    // Parse markdown links [text](url)
                    const markdownLinks = line.match(/\[([^\]]+)\]\(([^)]+)\)/g);
                    if (markdownLinks) {
                        markdownLinks.forEach(mdLink => {
                            const urlMatch = mdLink.match(/\[([^\]]+)\]\(([^)]+)\)/);
                            if (urlMatch) {
                                currentEntry.links.push(urlMatch[2]);
                            }
                        });
                    }
                    
                    // Also catch plain URLs
                    if (line.startsWith('http://') || line.startsWith('https://')) {
                        currentEntry.links.push(line);
                    }
                    
                    // Parse image lines
                    if (line.startsWith('![')) {
                        const imgMatch = line.match(/!\[([^\]]*)\]\(([^)]+)\)/);
                        if (imgMatch) {
                            currentEntry.images.push(imgMatch[2]);
                        }
                    }
                    // Skip footnote definitions, backslash lines, and headers
                    else if (!line.startsWith('[^') && line !== '\\' && line.length > 0 && !line.startsWith('##')) {
                        // Remove markdown link syntax and footnote references for content display
                        let cleanLine = line.replace(/\[([^\]]+)\]\([^)]+\)/g, '$1');
                        cleanLine = cleanLine.replace(/\s*\[\^\d+\]\s*/g, '');
                        if (cleanLine.trim().length > 0) {
                            currentEntry.content += (currentEntry.content ? '\n' : '') + cleanLine;
                        }
                    }
                    
                    const tags = line.match(/#[A-Za-z0-9_]+/g);
                    if (tags) currentEntry.tags.push(...tags);
                }
            }
            
            if (currentEntry) allEntries.push(currentEntry);
            filteredEntries = [...allEntries];
            renderChronology();
            updateStats();
        }
        
        function renderChronology() {
            const content = document.getElementById('content');
            
            if (filteredEntries.length === 0) {
                content.innerHTML = '<div class="loading">NO ENTRIES FOUND</div>';
                return;
            }
            
            let html = '';
            
            // Add intro section if showing all entries
            const searchTerm = document.getElementById('searchBox')?.value.toLowerCase() || '';
            if (searchTerm === '' || searchTerm === 'all') {
                if (chronologyIntro) {
                    html += `<div class="chronology-intro">${formatMarkdown(chronologyIntro)}</div>`;
                }
            }
            
            html += filteredEntries.map(entry => `
                <div class="timeline-entry">
                    <div class="entry-date">${escapeHtml(entry.date)}</div>
                    <div class="entry-title">${escapeHtml(entry.title)}</div>
                    ${entry.content ? `<div class="entry-content">${escapeHtml(entry.content)}</div>` : ''}
                    ${entry.images.length > 0 ? `
                        <div class="entry-images">
                            ${entry.images.map(img => `<img src="${escapeHtml(img)}" alt="" loading="lazy">`).join('')}
                        </div>
                    ` : ''}
                    ${entry.tags.length > 0 ? entry.tags.map(tag => `<span class="tag">${escapeHtml(tag)}</span>`).join('') : ''}
                    ${entry.links.length > 0 ? `
                        <div class="entry-links">
                            ${entry.links.map(link => `<a href="${escapeHtml(link)}" target="_blank">${escapeHtml(link)}</a>`).join('')}
                        </div>
                    ` : ''}
                </div>
            `).join('');
            
            content.innerHTML = html;
        }
        
        function filterEntries() {
            const searchTerm = document.getElementById('searchBox').value.toLowerCase();
            
            if (searchTerm === '' || searchTerm === 'all') {
                filteredEntries = [...allEntries];
            } else {
                filteredEntries = allEntries.filter(entry => {
                    const entryDate = entry.date.toLowerCase();
                    const entryTitle = entry.title.toLowerCase();
                    const entryContent = entry.content.toLowerCase();
                    const entryTags = entry.tags.map(t => t.toLowerCase());
                    
                    // Check if it's a date/year filter (numbers or bce/ce)
                    if (/^\d+$/.test(searchTerm) || searchTerm === 'bce') {
                        if (searchTerm === 'bce') {
                            // Match entries that have BCE or CE as era designations
                            // Handles formats like "70 CE", "70 CE,", "138 BCE -", etc.
                            return /^\d+\s+(bce|ce)[\s,\-]/i.test(entryDate);
                        }
                        
                        // Extract the first year from the date (handles both "2025" and "80 CE" formats)
                        const yearMatch = entryDate.match(/^(\d{1,4})\s*(bce|ce|,)?/);
                        if (!yearMatch) return false;
                        
                        const year = yearMatch[1];
                        const era = yearMatch[2];
                        
                        // Skip BCE/CE entries for modern year filters
                        if ((era === 'bce' || era === 'ce') && searchTerm.length >= 3) {
                            return false;
                        }
                        
                        // For 2-digit century filters (10-18), match start of year (only for non-BCE/CE)
                        if (searchTerm.length === 2 && !era) {
                            return year.startsWith(searchTerm);
                        }
                        
                        // For 3-digit decade filters (194-200), match start of year (only for non-BCE/CE)
                        if (searchTerm.length === 3 && !era) {
                            return year.startsWith(searchTerm);
                        }
                        
                        // For 4-digit year filters, exact match (only for non-BCE/CE)
                        if (searchTerm.length === 4 && !era) {
                            return year === searchTerm;
                        }
                        
                        // For 1-2 digit searches on BCE/CE entries, match the year
                        if (era && searchTerm.length <= 3) {
                            return year.startsWith(searchTerm) || year === searchTerm;
                        }
                        
                        // Fallback
                        return year.startsWith(searchTerm);
                    }
                    
                    // For other filters (hearing, foia, etc), search all fields
                    return entryDate.includes(searchTerm) ||
                           entryTitle.includes(searchTerm) ||
                           entryContent.includes(searchTerm) ||
                           entryTags.some(tag => tag.includes(searchTerm));
                });
            }
            
            renderChronology();
            updateStats();
        }
        
        function updateStats() {
            const stats = document.getElementById('stats');
            if (stats) {
                stats.textContent = `SHOWING ${filteredEntries.length} OF ${allEntries.length} ENTRIES`;
            }
        }
        
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        function formatMarkdown(text) {
            // Simple markdown formatting for intro section
            let html = text;
            // Headers
            html = html.replace(/^# (.+)$/gm, '<h1>$1</h1>');
            html = html.replace(/^## (.+)$/gm, '<h2>$2</h2>');
            html = html.replace(/^### (.+)$/gm, '<h3>$3</h3>');
            // Links
            html = html.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank">$1</a>');
            // Line breaks
            html = html.replace(/\n\n/g, '<br><br>');
            html = html.replace(/^- (.+)$/gm, '<div style="margin-left: 20px;">• $1</div>');
            return html;
        }
        
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelector(`[data-doc="${tabName}"]`).classList.add('active');
            currentDoc = tabName;
            loadDocument();
        }
        
        // Initialize
        showIndex();
    </script>
</body>
</html>
